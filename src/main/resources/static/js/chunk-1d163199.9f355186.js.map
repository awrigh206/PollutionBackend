{"version":3,"sources":["webpack:///./src/views/Register.vue?21e5","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?8666"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","type","indexOf","_k","keyCode","key","lastPassFix","submit","_v","_s","form","title","_l","input","id","class","hasFailed","attrs","formatInputId","icon","placeholder","directives","name","rawName","value","expression","domProps","Array","isArray","model","_i","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","slice","_q","composing","text","error","_e","button","_b","staticRenderFns","components","data","action","userName","password","email","number","control","activated","clear","methods","ev","stopImmediatePropagation","clean","prepareInputData","acc","val","component"],"mappings":"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","file":"js/chunk-1d163199.9f355186.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"form-wrapper\"},[_c('Logo'),_c('form',{staticClass:\"register-form\",on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.lastPassFix($event)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.form.title))]),_c('section',{staticClass:\"fields\"},_vm._l((_vm.form.input),function(input,id){return _c('div',{key:id,staticClass:\"input-wrapper\",class:[ _vm.hasFailed(input) ],attrs:{\"id\":_vm.formatInputId(id)}},[_c('label',{attrs:{\"for\":id}},[_c('Icon',{attrs:{\"name\":input.icon}}),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(input.placeholder))])],1),((input.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(input.model),expression:\"input.model\"}],attrs:{\"id\":id,\"name\":id,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(input.model)?_vm._i(input.model,null)>-1:(input.model)},on:{\"change\":function($event){var $$a=input.model,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(input, \"model\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(input, \"model\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(input, \"model\", $$c)}}}}):((input.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(input.model),expression:\"input.model\"}],attrs:{\"id\":id,\"name\":id,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(input.model,null)},on:{\"change\":function($event){return _vm.$set(input, \"model\", null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(input.model),expression:\"input.model\"}],attrs:{\"id\":id,\"name\":id,\"type\":input.type},domProps:{\"value\":(input.model)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(input, \"model\", $event.target.value)}}}),(input.error)?_c('Icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ type: 'alert', text: input.error }),expression:\"{ type: 'alert', text: input.error }\"}],staticClass:\"error\",attrs:{\"name\":\"warning\"}}):_vm._e()],1)}),0),_c('section',{staticClass:\"form-control\"},_vm._l((_vm.form.control),function(button,id){return _c('Button',_vm._b({key:id},'Button',button,false),[_vm._v(_vm._s(button.text))])}),1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register\">\n    <div class=\"bg\"></div>\n    <div class=\"form-wrapper\">\n      <Logo />\n      <form class=\"register-form\" @keydown.enter=\"lastPassFix\" @keyup.enter=\"submit()\">\n        <div class=\"title\">{{ form.title }}</div>\n        <section class=\"fields\">\n          <div v-for=\"(input, id) in form.input\" :key=\"id\" :id=\"formatInputId(id)\" class=\"input-wrapper\" :class=\"[ hasFailed(input) ]\">\n            <label :for=\"id\">\n              <Icon :name=\"input.icon\" />\n              <span class=\"label\">{{ input.placeholder }}</span>\n            </label>\n            <input :id=\"id\" :type=\"input.type\" :name=\"id\" v-model=\"input.model\" />\n            <Icon v-if=\"input.error\" class=\"error\" name=\"warning\" v-tooltip=\"{ type: 'alert', text: input.error }\"></Icon>\n          </div>\n        </section>\n        <section class=\"form-control\">\n          <Button v-for=\"(button, id) in form.control\" :key=\"id\" v-bind=\"button\">{{ button.text }}</Button>\n        </section>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport axios from 'axios';\n\nimport Logo from '../components/Logo.component.vue';\nimport Icon from '../components/Icon.component.vue';\nimport Button from '../components/Button.component.vue';\n\nexport default {\n  components: { Logo, Icon, Button },\n  data() {\n    return {\n      form: {\n        title: 'Register',\n        action: '/user/register',\n        input: {\n          userName: { icon: 'person', type: 'text', placeholder: 'USERNAME' },\n          password: { icon: 'lock', type: 'password', placeholder: 'PASSWORD' },\n          email: { icon: 'mail', type: 'text', placeholder: 'EMAIL' },\n          number: { icon: 'phone_msg', type: 'text', placeholder: 'PHONE NUMBER' },\n        },\n        control: {\n          submit: { text: 'Register', icon: 'circle-right', type: 'dialog', click: this.submit.bind(null) },\n        },\n      },\n    };\n  },\n  /**\n   * Vue method that gets called when a <keep-alive> element is displayed\n   */\n  activated() {\n    this.clear();\n  },\n  methods: {\n    /**\n     * Blocks the error thrown by LastPass when enter is pressed while form is in focus\n     *\n     * @param {Object} ev         - The event data holder\n     */\n    lastPassFix(ev) {\n      ev.stopImmediatePropagation();\n    },\n    /**\n     * Formats the input element class based on the id passed in\n     *\n     * @param {String} id             - The id of the input\n     * @returns {String}  The formatted input class name\n     */\n    formatInputId(id) {\n      return `input-${id}`;\n    },\n    /**\n     * Returns a special input element class name if the field has failed the validation checks\n     *\n     * @param {String} field          - Field name to check\n     * @returns {String}  The input class name\n     */\n    hasFailed(field) {\n      return (field.error) ? 'failed' : null;\n    },\n    /**\n     * Clears the active form input fields and resets the recovery step\n     */\n    clear() {\n      _.forEach(this.form.input, (field, key) => {\n        this.$delete(this.form.input[key], 'model');\n        this.$delete(this.form.input[key], 'error');\n      });\n    },\n    /**\n     * Cleans the active form of errors\n     */\n    clean() {\n      _.forEach(this.form.input, (field, key) => {\n        this.$delete(this.form.input[key], 'error');\n      });\n    },\n    /**\n     * Prepares the data of the input fields to be sent to the server\n     */\n    prepareInputData() {\n      // Reduce the input fields to { 'fieldName': 'fieldValue' } to prepare it\n      const data = _.reduce(this.form.input, (acc, val, key) => {\n        acc[key] = val.model;\n        return acc;\n      }, {});\n      return data;\n    },\n    /**\n     * Submits the active form data to the server\n     */\n    async submit() {\n      if (this.form.control.submit.pending) return;\n\n      this.clean();\n      const data = this.prepareInputData();\n      // Submit the form data\n      try {\n        this.$set(this.form.control.submit, 'pending', true);\n        const response = await axios.post(this.form.action, data);\n        // Format the input errors if there are any\n        if (!response.data) {\n          throw 'Something went wrong';\n        } else {\n          this.$store.commit('setUser', response.data);\n          this.$router.push({ name: 'home' });\n        }\n      } catch (e) {\n        _.forEach(this.form.input, (input, key) => {\n          this.$set(this.form.input[key], 'error', 'One of the fields is invalid!');\n        });\n      }\n      this.$delete(this.form.control.submit, 'pending');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import '~@/scss/_mixins';\n\n#app .register {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .bg {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: url('../assets/images/login-bg.jpg') no-repeat center center / cover;\n    opacity: .2;\n    &:after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      background: $map-fill-color;\n      mix-blend-mode: hard-light;\n    }\n  }\n\n  .form-wrapper {\n    position: relative;\n    .logo {\n      font-size: 64px;\n    }\n    .register-form {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding: 40px;\n      margin: 40px 0;\n      border-radius: 5px;\n      box-shadow: 0 0 4px $map-fill-color;\n      border: 1px solid #000;\n      background: linear-gradient(to bottom, darken($map-stroke-color, 10%), darken($map-stroke-color, 9%), darken($map-stroke-color, 10%));\n      &:before {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        background: url('../assets/images/panel-bg.jpg') no-repeat center center / 350%;\n        opacity: .2;\n      }\n      > * {\n        position: relative;\n      }\n      .title {\n        font-size: 24px;\n        font-weight: 700;\n      }\n      .fields {\n        display: flex;\n        flex-direction: column;\n        margin: 40px 0;\n        width: 70%;\n        .input-wrapper {\n          display: grid;\n          grid-template-columns: 1fr auto;\n          grid-template-rows: auto auto;\n          grid-template-areas: \"label label\"\n                              \"field error\";\n          font-size: 16px;\n          margin: 5px 0;\n          label {\n            grid-area: label;\n            display: flex;\n            align-items: center;\n            padding-bottom: 4px;\n            border-bottom: 2px solid $map-fill-color;\n            font-size: 16px;\n            font-weight: 700;\n            .icon {\n              display: flex;\n              justify-content: center;\n              width: 24px;\n              margin-right: 5px;\n            }\n          }\n          input {\n            grid-area: field;\n            border: none;\n            min-width: 50px;\n            padding: 6px 25px;\n            color: $color-text;\n            border-radius: 0 0 4px 4px;\n            @include transition('background-color, text-shadow', 200ms, ease);\n            &:hover { background-color: rgba($color-text, .1); }\n            &:focus { text-shadow: 0 0 2px $color-text; }\n            outline: none;\n            overflow: hidden;\n            background: none;\n          }\n          .error {\n            grid-area: error;\n            display: flex;\n            align-items: center;\n            padding: 0 6px 0 6px;\n            align-self: center;\n            font-size: 16px;\n          }\n          &.failed {\n            label {\n              color: $color-error;\n              border-color: $color-error;\n            }\n            .error {\n              font-size: 20px;\n              color: $color-error;\n              animation: .4s fxerror ease-in-out;\n            }\n            input {\n              @include setPlaceholder($color-error);\n              color: $color-error;\n              border-color: $color-error;\n              &:hover { background-color: rgba($color-error, .1); }\n              &:focus { text-shadow: 0 0 2px $color-error; }\n              &::selection {\n                background-color: $color-error;\n              }\n            }\n          }\n        }\n      }\n      .control .button {\n        font-size: 16px;\n        padding: 10px 20px;\n      }\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=22011f68&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}